# 图论

## 什么是图？

![image-20210107215006240](assets/%E5%9B%BE%E8%AE%BA/image-20210107215006240.png "图")

定义**图**$(graph) \ or$ 网络$(network)$ $G=(V,E)$，其中集合$V$的元素称为**顶点**$(vertex) \ or $ **结点**$node$，集合$E$的元素称为联系$(links)\ or$ **边**$(edge)$。

**网络与图**：

**网络**：通常是指真实的系统

* 网络、社交网络

**图**：网络的数学表示

* 网络图，社交图，知识图

## 无向图与有向图

如果给图的每条边规定一个方向，那么得到的图称为**有向图**。相反，边没有方向的图称为**无向图**。

**无向图**：

![image-20210107215921485](assets/%E5%9B%BE%E8%AE%BA/image-20210107215921485.png "无向图")

**有向图**：

![image-20210107215929372](assets/%E5%9B%BE%E8%AE%BA/image-20210107215929372.png "有向图")

## 度

与$i$结点关联的边的数目称为$i$的度。而在有向图中，从一个顶点出发的边数称为该点的**出度**，而指向一个顶点的边数称为该点的**入度**。

**无向图**：

![image-20210108115349220](assets/%E5%9B%BE%E8%AE%BA/image-20210108115349220.png)

在无向图中，结点的度就是与该结点相连的边的数目。

例如：$k_A=4$

**有向图**：

![image-20210108115737393](assets/%E5%9B%BE%E8%AE%BA/image-20210108115737393.png)

在有向网络中，定义一个入度和出度，节点的(总)度是输入度和输出度的总和。
$$
k^{in}_C = 2，K^{out}_C = 1，k_C = 3
$$

## 完全图

$N$个节点上的无向图的最大边数为：
$$
E_{max} = \frac{N(N-1)}{2}
$$
一个边数为$E =E_{max}$的无向图称为完全图（每两个顶点都有$1$条边相联的简单图称为完全图），它的平均度数是$N-1$。

![image-20210108120545817](assets/%E5%9B%BE%E8%AE%BA/image-20210108120545817.png)

## 二部图

节点可以被分成两个不相交集$U$和$V$的图每条链路将$U$中的一个节点连接到$V$中的一个节点；
也就是说，$U$和$V$是独立的集合$(U \cap V = \oslash)$。

![image-20210108120926369](assets/%E5%9B%BE%E8%AE%BA/image-20210108120926369.png)

如果$U$的顶点与$V$的顶点每个都邻接，则称为完全二部图。

在实际应用中，可以通过二部图进行**链路预测**：

![image-20210108123025248](assets/%E5%9B%BE%E8%AE%BA/image-20210108123025248.png)

通过$U$与$V$之间的关系，预测出$U$与$V$内部边的链接情况。

## 邻接矩阵

采用一个大小为$V\times V$的矩阵$A$，对于有权图，$A_{ij}$可以表示$V_i$到$V_j$的边的权重，如果是无权图，则可设为$1$表示存在边，$0$表示不存在边。因此邻接矩阵的表示相当的直观，而且对于查找某一条边是否存在、权重多少非常快。但其比较浪费空间，对稠密图（$E>>V$）来说，会比较适合。
$$
\begin{align}
\left\{
	\begin{array}{**lr**}
	A_{ij}=1，if\ there\ is\ a\ link\ from\ node\ i\ to\ node\ j & \\
	A_{ij}=0，otherwise
	\end{array}
\right.
\end{align}
$$
![image-20210108123529713](assets/%E5%9B%BE%E8%AE%BA/image-20210108123529713.png)
$$
\begin{align}
A_{左图} = \left[
	\begin{matrix}
		0&1&0&1 \\
		1&0&0&1\\
		0&0&0&1\\
		1&1&1&0
	\end{matrix}
\right]
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 
A_{右图} = \left[
	\begin{matrix}
		0&0&0&1 \\
		1&0&0&0\\
		0&0&0&0\\
		0&1&1&0
	\end{matrix}
\right]

\end{align}
$$

> 无向图的矩阵是对称的，有向图的矩阵可能不对称。

*  **无向图的邻接矩阵属性**：

![image-20210108124234211](assets/%E5%9B%BE%E8%AE%BA/image-20210108124234211.png)
$$
\begin{align}
&A_{ij} = A_{ji}；A_{ii} = 0\\
&k_i = \sum_{j=1}^N A_{ij}；k_j = \sum_{i=1}^N A_{ij} \\
&E = \frac{1}{2}\sum_{i=1}^N k_i=\frac{1}{2}\sum_{i,j}^N A_{ij}
\end{align}
$$

* **有向图的邻接矩阵属性**：

![image-20210108124548679](assets/%E5%9B%BE%E8%AE%BA/image-20210108124548679.png)
$$
\begin{align}
&A_{ij} \not= A_{ji}；A_{ii} = 0\\
&E = \frac{1}{2}\sum_{i=1}^N k_i^{in}= \frac{1}{2}\sum_{j=1}^N k_j^{out}=\sum_{i,j}^N A_{ij}
\end{align}
$$

* **边表**

![image-20210108125043031](assets/%E5%9B%BE%E8%AE%BA/image-20210108125043031.png)

将图表示为一组边：

```
(2,3);(2,4);(3,2);(3,4);(4,5);(5,2);(5,1)
```

*  **邻接列表**

如果矩阵是稀疏矩阵，采用邻接列表则能够快速检索给定节点的所有邻居。

```
1:
2:3,4
3:2,4
4:5
5:1,2
```

> 现实世界中的网络大多数都是稀疏的$(E<<E_{max})$

* **边的属性**
  * 权重(如通讯频率)
  * 排名(最好的朋友，第二好的朋友…)
  * 类型(朋友、亲戚、同事)
  * 标志:朋友vs敌人，信任vs不信任
  * 属性取决于图的其余部分的结构:共同好友的数量

* **更多类型的图**

**循环图**：

![image-20210108125724183](assets/%E5%9B%BE%E8%AE%BA/image-20210108125724183.png)

**多图**：

![image-20210108125757347](assets/%E5%9B%BE%E8%AE%BA/image-20210108125757347.png)

## 连通

* **连接(无向)图**：任意两个顶点都可以被一条路径连接起来。

![image-20210108130004562](assets/%E5%9B%BE%E8%AE%BA/image-20210108130004562.png)

如果擦掉了绿色颜色的边缘,那么这个图形就会变成不连通的图:如果擦掉了蓝色颜色的结点,那么这个图形就会断开连接，也会变成不连通的图。

* **不连通图**：是由两个或多个连通子图组成的。

![image-20210108130012808](assets/%E5%9B%BE%E8%AE%BA/image-20210108130012808.png)

* **强连通图**：在有向图$G$中，如果两个顶点$v_i,$$v_j$间$(v_i>v_j)$有一条从$v_i$到$v_j$的有向路径，同时还有一条从$v_j$到$v_i$的有向路径，则称两个顶点**强连通**$(strongly\ connected)$。如果有向图G的每两个顶点都强连通，称$G$是一个**强连通图**。有向图的极大强连通子图，称为**强连通分量**$(strongly\ connected\ components)$。

![image-20210108131045000](assets/%E5%9B%BE%E8%AE%BA/image-20210108131045000.png)

$e.g.$：$A-B-C$就构成了强连通图。

* **弱连通图**：定义对于有向图 $G$ ，将所有的有向边替换为无向边得到图 $G $的基图，若图 G 的基图是连通的，则称图 G 是**弱连通图**。

                  ## 图数据

### 同构图

**同构图**：是指图中的节点类型和关系类型都仅有一种。

### 异构图

**异构图**：是指图中的节点类型或关系类型多于一种，与同构图相反。

### 属性图

**属性图**：相较于异构图，属性图给图数据增加了额外的属性信息。

![img](assets/%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80/L3Byb3h5L2h0dHBzL2ltZzIwMTguY25ibG9ncy5jb20vYmxvZy8xMTEyNDgzLzIwMTkwNy8xMTEyNDgzLTIwMTkwNzMwMTExMjUzMDI3LTE2ODE2Nzg5ODUucG5n.jpg)

### 非显示图                         

**非显示图**：是指数据之间没有显示地定义出关系，需要依据某种规则或计算方式将数据的关系表达出来，进而将数据当成一种图数据进行研究。比如计算机3D视觉中的点云数据，如果将节点之间的空间距离转换成关系的话，点云数据就成了图数据。

